{# Macro for displaying model information about available models #}
{% macro choose_model_template(app,info) %}
<div class="ui segment form" margin="", id="model-element">
    <!--Insert Model Name HERE-->
    <h3 id="choose-modelname"><p id="model-name">{{info["modelname"]}}</p></h3>

    <div class="grid-container" style="display:grid;grid-template-columns: 2fr 1fr;">

        <div class="grid-item">
            <div>
                <h4>A selection of pictures model was trained on:</h4>
            </div>
            <!--Insert example images HERE-->
            <model-list-image class="ui small images">
                {% for i in range(0,info['training_images']| length) %}
                <img src="TrainingImages/{{info['training_images'][i]}}" id="choose-image-one" loading="lazy" draggable="false">
                {% endfor %}
            </model-list-image>
        </div>
        <div class="grid-item">
            <h4>Information about the model: </h4>
            <div>
                <!--Insert model information HERE-->
                <p><i>Ecosystem&ensp;: </i><b id="choose-ecosystem">{{info["ecosystem"]}}</b></p>
                <p><i>Author&emsp;&ensp;&emsp;: </i><b id="choose-author"></b>{{info["author"]}}</p>
            </div>
            <div style="position:absolute;bottom:20px;right:20px">
                <button class="ui toggle button" id="{{info['modelname']}}" onclick="{{app}}.Settings.toggle(this.id)" style="height:40px;width:180px;">
                    <i class="seedling icon" style="visibility: visible;float:left"></i>
                    <span id="{{info['modelname']}}-appliedtext">Apply Model</span>
                </button>
            </div>
        </div>
    </div>
</div>
{% endmacro %}



{% macro model_selection_tab(app,Allinfo) %}
<div class="ui tab segment" data-tab="modelselection" id="model-selection" style="background-color: #f8f8f9;">
    <h1>How do I choose the correct model?</h1>
    <p></p>
    <h3>This page exists in order to help you select the best model for your images. Example images and information regarding each model is highlighted so that you can pick one that fit the environment your images where taken in. </h3>
    <p></p>
    <h3></h3>
    <p></p>
    <model-list>
        {% for info in Allinfo %}
        {{ choose_model_template(app,info) }}
        {%endfor%}
    </model-list>

    <!-- Templates used to re-insert model boxes -->
    {{ model_selection_inserter(app) }}
    {{ model_selection_inserter_images(app) }}
</div>
{% endmacro%}

<!-- Macro template used to append new models. -->
{% macro model_selection_inserter(app) %}
<template id="model-selection-template">

    <div class="ui segment form" margin="" id="model-element">
        <!--Insert Model Name HERE-->
        <h3 id="choose-modelname"><p id="model-name">${info["modelname"]}</p></h3>

        <div class="grid-container" style="display:grid;grid-template-columns: 2fr 1fr;">

            <div class="grid-item">
                <div>
                    <h4>A selection of pictures model was trained on:</h4>
                </div>
                <!--Insert example images HERE-->
                <model-list-image class="ui small images">
                    <!-- Append images using another template -->
                </model-list-image>
            </div>
            <div class="grid-item">
                <h4>Information about the model: </h4>
                <div>
                    <!--Insert model information HERE-->
                    <p><i>Ecosystem&ensp;: </i><b id="choose-ecosystem">${info["ecosystem"]}</b></p>
                    <p><i>Author&emsp;&ensp;&emsp;: </i><b id="choose-author"></b>${info["author"]}</p>
                </div>
                <div style="position:absolute;bottom:20px;right:20px">
                    <button class="ui toggle button" id="${info[" modelname"]}" onclick="{{app}}.Settings.toggle(this.id)" style="height:40px;width:180px;">
                        <i class="seedling icon" style="visibility: visible;float:left"></i>
                        <span id="${info[" modelname"]}-appliedtext">Apply Model</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

</template>
{% endmacro %}

<!-- Macro template used to append images to the model box template. -->
{% macro model_selection_inserter_images(app) %}
<template id="model-selection-template-images">
    <img src="TrainingImages/${training_image}" id="choose-image-one" loading="lazy" draggable="false">
</template>
{% endmacro %}